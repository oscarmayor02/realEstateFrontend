<!-- Sidebar Desktop -->
<nav
  class="sidebar-desktop bg-linkedin text-white d-none d-md-flex flex-column"
>
  <div class="sidebar-content w-100 px-2 d-flex flex-column h-100">
    <!-- Logo -->
    <img
      src="assets/ubik.png"
      alt="Logo"
      class="sidebar-logo logo-smaller mb-4 mx-auto d-block"
    />

    <!-- Navegación -->
    <ul class="nav flex-column nav-section">
      <li class="nav-item">
        <a [routerLink]="['properties']" class="nav-link">
          <i class="bi bi-house-door-fill me-2"></i>Mis Propiedades
        </a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['mis-propiedades/nueva']" class="nav-link">
          <i class="bi bi-calendar-check-fill me-2"></i>Nueva Propiedad
        </a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['reservas']" class="nav-link">
          <i class="bi bi-heart-fill me-2"></i>Reservas Recibidas
        </a>
      </li>
      <li class="nav-item position-relative">
        <a
          [routerLink]="['mensajes']"
          class="nav-link d-flex justify-content-between align-items-center"
        >
          <span><i class="bi bi-chat-dots-fill me-2"></i> Mensajes</span>
          <span
            *ngIf="totalUnreadMessages > 0"
            class="badge bg-danger rounded-pill"
            style="font-size: 0.7rem"
          >
            {{ totalUnreadMessages }}
          </span>
        </a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['configuracion']" class="nav-link">
          <i class="bi bi-gear-fill me-2"></i> Configuración
        </a>
      </li>
    </ul>

    <!-- Usuario -->
    <div class="sidebar-footer mt-auto pt-3 border-top">
      <div class="d-flex align-items-center mb-2">
        <i class="bi bi-person-circle fs-4 me-2"></i>
        <div class="text-truncate">
          <div class="fw-bold" style="font-size: 0.8rem">{{ userName }}</div>
          <small class="text-white-50 text-truncate d-block"
            >{{ userEmail }}</small
          >
        </div>
      </div>
      <button class="btn btn-outline-light w-100 btn-sm" (click)="logout()">
        <i class="bi bi-box-arrow-right me-2"></i> Salir
      </button>
    </div>
  </div>
</nav>

<!-- Sidebar Mobile -->
<nav class="sidebar-mobile bg-linkedin text-white p-3 d-block d-md-none">
  <div class="d-flex justify-content-between align-items-center">
    <img src="assets/ubik.png" alt="Logo" class="sidebar-logo-mobile" />
    <button class="btn btn-outline-light btn-sm" (click)="toggleMenu()">
      <i class="bi" [ngClass]="isMenuOpen ? 'bi-x-lg' : 'bi-list'"></i>
    </button>
  </div>

  <!-- Menú desplegable -->
  <div *ngIf="isMenuOpen" class="mobile-menu mt-3">
    <ul class="nav flex-column gap-2">
      <li class="nav-item">
        <a [routerLink]="['properties']" class="nav-link text-white">
          <i class="bi bi-house-door-fill me-2"></i>Mis Propiedades
        </a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['mis-propiedades/nueva']" class="nav-link text-white">
          <i class="bi bi-calendar-check-fill me-2"></i>Nueva Propiedad
        </a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['reservas']" class="nav-link text-white">
          <i class="bi bi-heart-fill me-2"></i>Reservas Recibidas
        </a>
      </li>
      <li class="nav-item">
        <a
          [routerLink]="['mensajes']"
          class="nav-link text-white d-flex justify-content-between align-items-center"
        >
          <span><i class="bi bi-chat-dots-fill me-2"></i> Mensajes</span>
          <span
            *ngIf="totalUnreadMessages > 0"
            class="badge bg-danger rounded-pill"
            style="font-size: 0.7rem"
          >
            {{ totalUnreadMessages }}
          </span>
        </a>
      </li>
      <li class="nav-item">
        <a [routerLink]="['configuracion']" class="nav-link text-white">
          <i class="bi bi-gear-fill me-2"></i> Configuración
        </a>
      </li>
    </ul>

    <div class="mobile-user-info mt-4 border-top pt-3">
      <div class="d-flex align-items-center mb-2">
        <i class="bi bi-person-circle fs-5 me-2"></i>
        <div>
          <div class="fw-bold">{{ userName }}</div>
          <small class="text-white-50">{{ userEmail }}</small>
        </div>
      </div>
      <button
        class="btn btn-outline-light w-100 btn-sm mt-2"
        (click)="logout()"
      >
        <i class="bi bi-box-arrow-right me-2"></i> Cerrar sesión
      </button>
    </div>
  </div>
</nav>
