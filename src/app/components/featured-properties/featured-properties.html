<!-- Contenedor principal con padding vertical -->
<div class="container py-5">
  <!-- Título de la sección -->
  <h2 class="mb-4 fw-bold">Propiedades destacadas</h2>

  <!-- Fila de Bootstrap para organizar las tarjetas en columnas -->
  <div class="row">
    <!-- Repite una columna por cada propiedad en el arreglo 'properties' -->
    <div class="col-md-3" *ngFor="let prop of properties">
      <div class="card">
        <!-- Carrusel de Bootstrap para mostrar imágenes de la propiedad -->
        <div id="carousel-{{prop.id}}" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <!-- Repite un slide por cada imagen de la propiedad, o muestra un placeholder si no hay imágenes -->
            <div
              *ngFor="let img of (prop.images.length > 0 ? prop.images : [{url: 'https://via.placeholder.com/600x400?text=Sin+imagen'}]); let i = index"
              class="carousel-item"
              [class.active]="i === 0"
            >
              <!-- Imagen de la propiedad o placeholder -->
              <img
                [src]="img.url"
                class="d-block w-100 object-fit-cover"
                style="height: 200px; aspect-ratio: 3/2;"
                alt="property"
              />
            </div>
          </div>
          <!-- Botón para ir a la imagen anterior del carrusel -->
          <button class="carousel-control-prev" type="button" [attr.data-bs-target]="'#carousel-' + prop.id" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
          </button>
          <!-- Botón para ir a la imagen siguiente del carrusel -->
          <button class="carousel-control-next" type="button" [attr.data-bs-target]="'#carousel-' + prop.id" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
          </button>
        </div>
        <!-- Cuerpo de la tarjeta con información de la propiedad -->
        <div class="card-body">
          <span class="badge bg-primary mb-2">{{ prop.status }}</span>
          <h5 class="card-title">${{ prop.price | number }}</h5>
          <p class="card-text">{{ prop.type }}<br />{{ prop.location }}</p>
        </div>
      </div>
    </div>
  </div>
</div>